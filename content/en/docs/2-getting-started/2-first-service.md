---
title: First Service
weight: 2
---

# First Service

### Prerequisites

This guide assumes you have `curl` installed. Any other HTTP client will work as well.

### 1. Create a New Module

```bash
mkdir hello-goa && cd hello-goa  
go mod init hello
```

> Note: Typically Go modules are identified by a domain name, e.g.
> `github.com/yourusername/hello-goa`.  > However, for the sake of this guide,
> we'll use a simple module name.

### 2. Design Your First Service

1. **Add a `design` Folder**

```bash
mkdir design
```

2. **Create a Design File** (`design/design.go`):

```go
package design

import (
    . "goa.design/goa/v3/dsl"
)

var _ = Service("hello", func() {
    Description("A simple service that says hello.")

    Method("sayHello", func() {
        Payload(String, "Name to greet")
        Result(String, "A greeting message")

        HTTP(func() {
            GET("/hello/{name}")
        })
    })
})
```

### 3. Generate Code

Run the Goa code generator to produce scaffolding in the root of the module
(`hello-goa` folder):

```bash
goa gen hello/design
```

This creates a `gen` folder containing endpoints, transport logic, and OpenAPI
specs.

Run the `example` command to create a default client and server `main` package.

```bash
goa example hello/design
```

> Note: The `example` command generates a default implementation and a `main`
> package. It is meant to be used as a starting point for your service. Only the
> `gen` command should be used when modifying the design, the code generated by the
> `example` command should be maintained 'manually' like any other user code.

The content of the `hello-goa` folder should look like this:

```
hello-goa
├── cmd
│   ├── hello
│   │   ├── http.go
│   │   └── main.go
│   └── hello-cli
│       ├── http.go
│       └── main.go
├── design
│   └── design.go
├── gen
│   ├── ...
│   └── http
└── hello.go
```

### 4. Implement the Service

Edit the file `hello.go` generated by the `example` command and replace the
`SayHello` method with the following:

```go
func (s *hellosrvc) SayHello(ctx context.Context, name string) (string, error) {
	log.Printf(ctx, "hello.sayHello")
    return fmt.Sprintf("Hello, %s!", name), nil
}
```

That's it!

### 5. Run & Test

#### Launch the Server

First let's install the dependencies:

```bash
go mod tidy
```

Then run the server on port 8080:

```bash
go run hello/cmd/hello --http-port=8080
INFO[0000] http-port=8080
INFO[0000] msg=HTTP "SayHello" mounted on GET /hello/{name}
INFO[0000] msg=HTTP server listening on "localhost:8080"
```

#### Call the Service

In a different terminal, run:

```bash
curl http://localhost:8080/hello/Alice
"Hello, Alice!"
```

Congratulations! You've just created your first Goa service.

#### Using the CLI Client

The `example` command also created a `hello-cli` command line client. You can
use it to call the service:

```bash
go run hello/cmd/hello-cli --url=http://localhost:8080 hello say-hello -p=Alice
```

The `hello-cli` command is a simple client that uses the `http` transport, the
`--help` flag shows the available commands:

```bash
go run hello/cmd/hello-cli --help
```

## 6. Ongoing Development

#### Edit DSL → Regenerate

Whenever you modify the design (adding methods, fields, or errors), run:

```bash
goa gen hello/design
```

Edit the main and service packages as needed - goa will not overwrite anything
out of the `gen` folder.

## 7. Next Steps

- **Organize your code**: See [Code Organization](../4-concepts/4-best-practices/1-code-organization.md).
- **Learn how to build a REST API**: See [REST API](../3-tutorials/1-rest-api).
- **Learn how to build a gRPC service**: See [gRPC Service](../3-tutorials/2-grpc-service).
- **Add Error Handling**: Map errors to HTTP or gRPC status codes via the `Error` DSL. See [Error Handling](../4-concepts/4-best-practices/error-handling).
- **Explore Interceptors**: Handle cross-cutting concerns (auth, logging) with Goa’s transport-agnostic [interceptors](../4-concepts/3-interceptors).

